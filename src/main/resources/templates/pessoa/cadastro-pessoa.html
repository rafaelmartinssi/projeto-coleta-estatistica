<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{fragments/fragment-head :: head('Login')}"></head>

<body>

	<div th:replace="~{fragments/fragment-menu :: menu}"></div>

	<div th:replace="~{fragments/fragment-message :: message}"></div>

	<div class="main">

	 <fieldset class="form-group">
	 
	 <h5>GESTÃO DE SERVIDORES</h5>

	<form action="salvarPessoa" id="formuser" method="post">
	
	<p>Esta página permite incluir um novo servidor.</p>
	
		<div class="form-row">
    	<div class="form-group col-6">
		<label>Nome </label> 
		<input type="text" class="form-control" id="nome" name="nome"> 
		</div>
    	<div class="form-group col-6">
		<label>Masp </label> 
		<input	type="text" class="form-control" id="masp" name="masp"> 
		<div class="bg-red" th:if="${maspblock != null}">
			<div th:each="malert : ${maspblock}">
				<label th:text="${malert}"></label>
			</div>
		</div>
		</div>

		</div> 
		
		<div class="form-row">
    	<div class="form-group col-6">
		<label>E-mail </label> 
		<input type="email" class="form-control" id="email" name="email"> 
		</div>
		<div class="form-group col-6">
		<label>Celular </label> 
		<input type="text" class="form-control" id="celular" name="celular">
		</div>
		</div> 
		
		<h5 class="line-botton"></h5>
		
		<div class="form-row">
		<div class="form-group pt-3">
		<input class="btn btn-secondary ml-1" value="Incluir" type="submit">
		<a class="btn btn-secondary ml-3" href="/">Voltar</a>
		</div>
		</div>
		
	</form>
	
	<h5 class="line-botton"></h5>
	
	<p class="mt-4">Servidores cadastrados em sua unidade.</p>
	
	<div class="mt-4">
		<table class="table table-striped">
			<thead>
				<tr>
					<th scope="col">ID</th>
					<th scope="col">Nome</th>
					<th scope="col">Masp</th>
					<th scope="col">Editar</th>
					<th scope="col">Excluir</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="p : ${pessoas}">
					<th th:text="${p.id}" scope="row"></th>
					<td th:text="${p.nome}"></td>
					<td th:text="${p.masp}"></td>
					<td><a class="icons" th:href="@{/atualizarPessoa(pessoaId = ${p.id})}"><i class="bi bi-pencil-square"></i></a></td>
					<td><a class="icons" th:href="@{/excluirPessoa(pessoaId = ${p.id})}"><i class="bi bi-trash-fill"></i></a></td>
				</tr>
			</tbody>
		</table>
	</div>
	
	
	</fieldset>
	
	</div>

	<span th:replace="~{fragments/fragment-scripts :: scripts}"></span>

</body>
</html>